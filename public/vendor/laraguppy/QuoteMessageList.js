import{F as V}from"./v3.js";import{_ as C}from"./GeoMap.js";import{_ as L}from"./AudioPlayer.js";import{R as M}from"./video-js.js";import{r as T,E as w,O as z,o as a,c as o,d as t,f as e,F as E,l as x,t as n,i as r,p as c,y as D,T as O,e as S,q as $}from"./app.js";const Q={class:"at-message-qoute"},R={class:"at-message-qoute_content"},j={key:0,class:"at-message_imgs at-messagequote"},A=["src","alt"],G={key:0},H={key:2,class:"at-sendfile"},J=t("i",{class:"laraguppy-music-01"},null,-1),K={key:3,class:"at-sendfile"},P=t("i",{class:"laraguppy-file-01"},null,-1),U={key:6},ae={__name:"QuoteMessageList",props:["message","msgId"],setup(N){const b=N,{message:s,msgId:q}=b,{attachments:l}=s,i=T(1),m=T(!1),B=()=>{m.value=!m.value},F=w(()=>s.messageType=="image"?z.map(s==null?void 0:s.attachments,"file"):[]);return(u,d)=>{var g,_,p,f,y,h,v;return a(),o("div",null,[t("div",Q,[t("div",R,[e(s).messageType=="image"?(a(),o("ul",j,[(a(!0),o(E,null,x(e(l).slice(0,i.value),(k,I)=>(a(),o("li",{key:I+"_"+Math.floor(Math.random()*99999999),onClick:d[0]||(d[0]=W=>B())},[t("figure",null,[t("img",{src:k.thumbnail,alt:k.fileName,class:"mCS_img_loaded"},null,8,A),e(s).attachments.length>i.value&&I==i.value-1?(a(),o("span",G," +"+n(e(s).attachments.length-i.value),1)):r("",!0)])]))),128)),(a(),c(O,{to:"body"},[D(e(V),{toggler:m.value,sources:F.value},null,8,["toggler","sources"])]))])):r("",!0),e(s).messageType=="video"?(a(),c(e(M),{key:1,src:(_=(g=e(l))==null?void 0:g[0])==null?void 0:_.file,controls:"",loop:!1,volume:.6},null,8,["src"])):r("",!0),e(s).messageType=="audio"?(a(),o("div",H,[J,t("span",null,[S(n((f=(p=e(l))==null?void 0:p[0])==null?void 0:f.fileName),1),t("em",null,n(e(l)[0].fileSize),1)])])):r("",!0),e(s).messageType=="document"?(a(),o("div",K,[P,t("span",null,[S(n((h=(y=e(l))==null?void 0:y[0])==null?void 0:h.name),1),t("em",null,n((v=e(l)[0])==null?void 0:v.fileSize),1)])])):e(s).messageType=="voice"?(a(),c(L,{key:4,messageId:e(s).messageId+"_reply",audioSource:e(l)[0].file},null,8,["messageId","audioSource"])):e(s).messageType=="location"?(a(),c(C,{key:5,location:e(s).location,msgId:`${e(q)}_${e(s).messageId}`},null,8,["location","msgId"])):(a(),o("span",U,n(e(s).body),1))]),$(u.$slots,"message_actions")]),$(u.$slots,"default")])}}};export{ae as default};
