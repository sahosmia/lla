const __vite__fileDeps=["DeleteMessage.js","app.js","app.css","FileMessage.js","ImageMessage.js","v3.js","ImageMessage.css","LocationMessage.js","GeoMap.js","GeoMap.css","LocationMessage.css","VideoMessage.js","video-js.js","video-js.css","VideoMessage.css","VoiceMessage.js","AudioPlayer.js","AudioPlayer.css","VoiceMessage.css","TextMessage.js","TextMessage.css","NotifyMessage.js","AudioMessage.js","AudioMessage.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r as b,a as w,j as H,h as $,s as h,U as j,S as L,k as z,o as t,c as a,l as U,f as s,F as l,n as m,d as p,t as _,i as r,y as d,p as o,e as W,I as i,_ as n,V as q,W as M}from"./app.js";const G={key:0,class:"at-messages-user"},J={class:"at-messages-user_img"},K=["src","alt"],Q={key:0,class:"at-grp_receiver_msg"},X=["src","alt"],Y={key:0,class:"at-grp_receiver_msg"},Z=["src","alt"],ee={key:0,class:"at-grp_receiver_msg"},te=["src","alt"],ae={key:0,class:"at-grp_receiver_msg"},se=["src","alt"],re={key:0,class:"at-grp_receiver_msg"},le=["src","alt"],oe={key:0,class:"at-grp_receiver_msg"},ie=["src","alt"],ne={key:0,class:"at-grp_receiver_msg"},de=["src","alt"],ce={key:0,class:"at-grp_receiver_msg"},ue=["src","alt"],_e={key:11,class:"at-message at-loadermsg"},pe=p("i",{class:"laraguppy-loader at-spinericon"},null,-1),ve={__name:"MessagesList",props:["threadId"],setup(N){const g=i(()=>n(()=>import("./DeleteMessage.js"),__vite__mapDeps([0,1,2]))),k=i(()=>n(()=>import("./FileMessage.js"),__vite__mapDeps([3,1,2]))),T=i(()=>n(()=>import("./ImageMessage.js"),__vite__mapDeps([4,1,2,5,6]))),A=i(()=>n(()=>import("./LocationMessage.js"),__vite__mapDeps([7,1,2,8,9,10]))),R=i(()=>n(()=>import("./VideoMessage.js"),__vite__mapDeps([11,1,2,12,13,14]))),S=i(()=>n(()=>import("./VoiceMessage.js"),__vite__mapDeps([15,1,2,16,17,18]))),I=i(()=>n(()=>import("./TextMessage.js"),__vite__mapDeps([19,1,2,20]))),D=i(()=>n(()=>import("./NotifyMessage.js"),__vite__mapDeps([21,1,2]))),f=i(()=>n(()=>import("./AudioMessage.js"),__vite__mapDeps([22,1,2,23]))),c=b(!1),E=N,P=w(),O=H(),F=$(),{chatInfo:C}=h(P),{messages:B}=h(F),{settings:y}=h(O);b([]);const x=y.value.timeFormat=="24hrs"?"HH:mm":"hh:mm a",V=u=>{if(u){let v=q(new Date(u)).format(x);return y.value.timeFormat=="12hrs"?`${v.replace("am",M("chatapp.am")).replace("pm",M("chatapp.pm"))}`:v}return null};return j(()=>E.threadId,u=>{setTimeout(()=>{L.scrollList({threadId:u})},100)}),z(()=>{L.scrollList({threadId:C.value.threadId})}),(u,v)=>(t(!0),a(l,null,U(s(B)(E.threadId),e=>(t(),a("div",{class:m(["at-messages",[{"at-notifymsg":e.messageType=="notify"},{"at-message_sender":e.isSender}]]),key:e.messageId},[!e.isSender&&!["notify"].includes(e.messageType)?(t(),a("div",G,[p("figure",J,[p("img",{src:e.photo?e.photo:s(y).defaultAvatar?s(y).defaultAvatar:u.avatar,alt:e.name},null,8,K)]),p("h3",null,_(e.name),1)])):r("",!0),e.date?(t(),a("div",{class:"at-chatseparation",key:e.messageId},[p("span",null,_(e.date),1)])):r("",!0),e.deletedAt?(t(),a(l,{key:2},[e.threadType==="group"?(t(),a("div",Q,[e.isSender?r("",!0):(t(),a("img",{key:0,class:"at-group-avatar",src:e.userAvatar,alt:e.userName},null,8,X)),d(s(g),{message:e},null,8,["message"])])):(t(),o(s(g),{key:1,message:e},null,8,["message"]))],64)):e.messageType==="text"?(t(),a(l,{key:3},[e.threadType=="group"?(t(),a("div",Y,[e.isSender?r("",!0):(t(),a("img",{key:0,class:"at-group-avatar",src:e.userAvatar,alt:e.userName},null,8,Z)),d(s(I),{message:e,disableReply:c.value},null,8,["message","disableReply"])])):(t(),o(s(I),{key:1,message:e},null,8,["message"]))],64)):e.messageType==="location"?(t(),a(l,{key:4},[e.threadType=="group"?(t(),a("div",ee,[e.isSender?r("",!0):(t(),a("img",{key:0,class:"at-group-avatar",src:e.userAvatar,alt:e.userName},null,8,te)),d(s(A),{message:e,disableReply:c.value},null,8,["message","disableReply"])])):(t(),o(s(A),{key:1,message:e},null,8,["message"]))],64)):e.messageType==="audio"?(t(),a(l,{key:5},[e.threadType==="group"?(t(),a("div",ae,[e.isSender?r("",!0):(t(),a("img",{key:0,class:"at-group-avatar",src:e.userAvatar,alt:e.userName},null,8,se)),d(s(f),{message:e,disableReply:c.value},null,8,["message","disableReply"])])):(t(),o(s(f),{key:1,message:e},null,8,["message"]))],64)):e.messageType==="document"?(t(),a(l,{key:6},[e.threadType==="group"?(t(),a("div",re,[e.isSender?r("",!0):(t(),a("img",{key:0,class:"at-group-avatar",src:e.userAvatar,alt:e.userName},null,8,le)),d(s(k),{message:e,disableReply:c.value},null,8,["message","disableReply"])])):(t(),o(s(k),{key:1,message:e},null,8,["message"]))],64)):e.messageType=="image"?(t(),a(l,{key:7},[e.threadType==="group"?(t(),a("div",oe,[e.isSender?r("",!0):(t(),a("img",{key:0,class:"at-group-avatar",src:e.userAvatar,alt:e.userName},null,8,ie)),d(s(T),{message:e,disableReply:c.value},null,8,["message","disableReply"])])):(t(),o(s(T),{key:1,message:e},null,8,["message"]))],64)):e.messageType==="video"?(t(),a(l,{key:8},[e.threadType==="group"?(t(),a("div",ne,[e.isSender?r("",!0):(t(),a("img",{key:0,class:"at-group-avatar",src:e.userAvatar,alt:e.userName},null,8,de)),d(s(R),{message:e,disableReply:c.value},null,8,["message","disableReply"])])):(t(),o(s(R),{key:1,message:e},null,8,["message"]))],64)):e.messageType==="voice"?(t(),a(l,{key:9},[e.threadType==="group"?(t(),a("div",ce,[e.isSender?r("",!0):(t(),a("img",{key:0,class:"at-group-avatar",src:e.userAvatar,alt:e.userName},null,8,ue)),d(s(S),{message:e,disableReply:c.value},null,8,["message","disableReply"])])):(t(),o(s(S),{key:1,message:e},null,8,["message"]))],64)):e.messageType=="notify"?(t(),o(s(D),{key:10,message:e},null,8,["message"])):e.messageType=="loading"?(t(),a("div",_e,[pe,W(" "+_(u.$t("chatapp.attachments_uploading")),1)])):r("",!0),e.messageType!="notify"&&e.threadType==="group"?(t(),a("span",{key:12,class:m(["at-message_time",{"at-seenmsg":e.isSender&&e.seenAt,"at-resmsg":e.isSender&&e.messageSeenIds&&e.messageSeenIds.length}])},_(V(e.createdAt)),3)):e.messageType!="notify"&&e.messageId?(t(),a("span",{key:13,class:m(["at-message_time",{"at-seenmsg":e.isSender&&e.seenAt,"at-resmsg":e.isSender&&!e.seenAt&&e.deliveredAt}])},_(V(e.createdAt)),3)):r("",!0)],2))),128))}};export{ve as default};
